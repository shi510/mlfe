file(GLOB context_srcs "*.cc")
file(GLOB context_hdrs "*.h")
list(APPEND mlfe_source_files ${context_srcs})
list(APPEND mlfe_header_files ${context_hdrs})
if(NOT USE_CUDA AND NOT USE_CUDNN)
    foreach(FILE ${mlfe_source_files})
        if ("${FILE}" MATCHES ".*\\.*cuda.*")
            list(REMOVE_ITEM mlfe_source_files ${FILE})
        endif()
    endforeach()

    foreach(FILE ${mlfe_header_files})
        if ("${FILE}" MATCHES ".*\\.*cuda.*")
            list(REMOVE_ITEM mlfe_header_files ${FILE})
        endif()
    endforeach()
endif()

set(mlfe_source_files ${mlfe_source_files} PARENT_SCOPE)
set(mlfe_header_files ${mlfe_header_files} PARENT_SCOPE)
